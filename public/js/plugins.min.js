function ajaxableLink(c,d){var a=c.find(".optBtn_icon");var b=a.attr("class").split(" ");b.splice(b.indexOf("optBtn_icon"),1);jQuery.ajax({type:"post",url:c.attr("href"),beforeSend:function(){a.removeClass(b).addClass("loadBtn")},complete:function(){a.removeClass("loadBtn").addClass(b)},success:function(e){var f=jQuery.parseJSON(e);if(d!==undefined){d(f)}}})}$(document).ready(function(){$("<style>").prop("type","text/css").html("            .valid_input {                background: rgba(0, 200, 0, .5);            }            .wrong_input {                background: rgba(200, 0, 0, .5);            }").appendTo("head");$(".mainbody").on("click",".modSettings",function(f){f.preventDefault();var a=$(this);var c=a.length>0?$(a[0].form):$();var b=$(this).data("name");var h=$(this).data("op");var g=a.closest("form").attr("action");var d=c.serializeArray();jQuery.ajax({url:g,type:"POST",data:d,success:function(i){var e=jQuery.parseJSON(i);if(e===true||e!==false){if(h=="cron"){$("#cron_time_"+b).html(e.msg)}a.addClass("valid_input");setTimeout(function(){a.removeClass("valid_input")},500)}else{a.addClass("wrong_input");setTimeout(function(){a.removeClass("wrong_input")},500)}}})}).on("click",".modCron",function(d){d.preventDefault();var a=$(this);var c=a.length>0?$(a[0].form):$();var b=c.find('input[name="modCron"]').val();var f=function(e){$(".plugTime#"+b).html(e.msg)};processForm(c,f)}).on("click",".installDep",function(b){b.preventDefault();var a=$(this);var f=$(this).data("op");var d=$(this).closest(".plugDiv");var c=function(e){if(e.status){var h=(f==="install")?"installBtn":"uninstallBtn";var g=(f==="install")?"uninstallBtn":"installBtn";var i=(f==="install")?"uninstall":"install";a.attr("data-op",i);a.find(".optBtn_icon").removeClass(h).addClass(g)}validsubmitform(d,e)};ajaxableLink(a,c)}).on("click",".activateDep",function(b){b.preventDefault();var a=$(this);var f=$(this).attr("data-op");var d=$(this).closest(".plugDiv");var c=function(e){if(e.status){var h=(f==="On")?"activateBtn":"deactivateBtn";var g=(f==="On")?"deactivateBtn":"activateBtn";var i=(f==="On")?"Off":"On";a.attr("data-op",i);a.find(".optBtn_icon").removeClass(h).addClass(g)}validsubmitform(d,e)};ajaxableLink(a,c)}).on("click",".optShow",function(b){b.preventDefault();var a=$(this).closest(".plugDiv").attr("id");var d=$(this).attr("data-op");var c=function(e){$(".plugOpt#"+a).html(e).toggle()};ajaxableLink($(this),c);return true}).on("click",".modOpt",function(g){g.preventDefault();var b=$(this).closest(".plugOpt").attr("id");var i=$(this).attr("data-op");var h=$(this).closest(".plugDiv");var d=$(this).length>0?$($(this)[0].form):$();var c=d.serializeArray();var f={modOpt:b,op:i,data:c};var a=d.attr("action");processAjax(h,f,null,a)}).on("click",".showLog",function(b){b.preventDefault();var a=$(this).attr("id");var c=$(".plugLog#"+a);if(!c.is(":visible")){jQuery.ajax({type:"post",url:$(this).attr("href"),data:{showLog:a},success:function(e){var d=jQuery.parseJSON(e);$(".plugLog#"+a).html(d).toggle()}})}else{c.toggle()}}).on("click",".deleteLog",function(a){a.preventDefault();var b=$(this).closest(".plugDiv");jQuery.ajax({type:"post",url:$(this).attr("href"),success:function(c){validsubmitform(b,c)}})}).on("click",".run_cron",function(c){c.preventDefault();var a=$(this);var b=$(this).attr("data-cron");var f=$(this).closest(".plugDiv");var d=function(e){validsubmitform(f,e)};ajaxableLink(a,d)})});